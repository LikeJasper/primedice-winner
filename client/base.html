<head>
  <title>Primedice Winner</title>
</head>

<body>
  <div class="container">
    <div class="row page-header">
      <h1>Primedice Winner</h1>
    </div>
    <div class="row">
      {{> displayBalance}}
    </div>
    <hr>
    <div class="row">
      <div class="col-xs-6">
        {{> makeBet}}
      </div>
      <div class="col-xs-6">
        {{> startRun}}
      </div>
    </div>
  </div>
</body>

<template name="displayBalance">
  <div id="balance-area">
    <h2>Your balance: <span id="user-balance">{{getBalance}}</span> satoshi</h2>
    <button id="get-balance" class="btn btn-primary">Update balance</button>
    <a id="primedice-faucet" class="btn btn-link" href="https://primedice.com/play" target="_blank">Primedice faucet</a>
    <p class="error-text"></p>
  </div>
</template>

<template name="makeBet">
  <div id="bet-area">
    <h3>Single bet</h3>
    <form>
      <div class="form-group">
        <label for="amount">Amount</label>
        <div class="input-group">
          <input name="amount" class="form-control" type="number" value="1">
          <div class="input-group-addon">satoshi</div>
        </div>
      </div>
      <div class="form-group">
        <label for="bet-target">Win probability</label>
        <div class="input-group">
          <input name="bet-target" class="form-control" type="number" value="50">
          <div class="input-group-addon">%</div>
        </div>
      </div>
      <div class="form-group">
        <button id="make-bet" class="btn btn-success" type="submit">Make a bet</button>
      </div>
    </form>
    <p class="error-text"></p>
    <p>You bet <span id="bet-total">{{getLatestSingleBet.total}}</span>. You {{#if getLatestSingleBet.win}}won{{else}}lost{{/if}} <span id="win-loss-total">{{getLatestSingleBet.winLossTotal}}</span>.</p>
  </div>
</template>

<template name="startRun">
  <div id="run-area">
    <h3>Bet run</h3>
    <form>
      <div class="form-group">
        <label for="base">Base</label>
        <div class="input-group">
          <input name="base" class="form-control" type="number" value="1">
          <div class="input-group-addon">satoshi</div>
        </div>
      </div>
      <div class="form-group">
        <label for="run-target">Win probability</label>
        <div class="input-group">
          <input name="run-target" class="form-control" type="number" value="33">
          <div class="input-group-addon">%</div>
        </div>
      </div>
      <div class="form-group">
        <label for="stop-target">Target balance</label>
        <div class="input-group">
          <input name="stop-target" class="form-control" type="number" value="100000">
          <div class="input-group-addon">satoshi</div>
        </div>
      </div>
      <div class="form-group">
        <button id="start-run" class="btn btn-success" type="submit">Start run</button>
        <button id="stop-run" class="btn btn-danger" type="button">Stop run</button>
      </div>
    </form>
    <p class="error-text"></p>
    <p>You bet <span id="run-total">{{getLatestRunBet.total}}</span>. You {{#if getLatestRunBet.win}}won{{else}}lost{{/if}} <span id="run-win-loss-total">{{getLatestRunBet.winLossTotal}}</span>.</p>
  </div>
</template>
